# Using External Sitemaps for Smoke Test Generation

This document explains how to use pre-generated sitemaps from external sources to generate smoke tests.

## Overview

The LLM Smoke Test Framework can work with pre-generated sitemap files, allowing you to:

1. Keep sitemap generation code separate from smoke test generation
2. Reuse existing sitemaps generated by other tools
3. Save time by not having to crawl websites repeatedly
4. Have more control over which URLs are included in testing

## Supported Sitemap Formats

The framework can work with the following sitemap formats:

1. **Plain text URL list** - One URL per line
2. **XML Sitemap** - Standard sitemap.xml format
3. **JSON Sitemap** - Custom JSON format with URLs and metadata

## Using the Sitemap Command

```bash
# Process a pre-generated sitemap file
python run.py sitemap --file /path/to/sitemap.txt --base-url https://example.com --output output/my_sitemap

# Generate tests directly from a sitemap file
python run.py e2e --sitemap-file /path/to/sitemap.txt -o output/my_tests

# Generate vision-enhanced tests from a sitemap file
python run.py vision-e2e --sitemap-file /path/to/sitemap.txt -o output/my_vision_tests
```

## Using the Helper Script

For convenience, a helper script is provided to quickly generate tests from a sitemap:

```bash
./sitemap_to_tests.sh [sitemap_file] [base_url] [output_dir] [framework] [language] [use_vision]
```

Example:

```bash
./sitemap_to_tests.sh ref_sitemap_generator/data/crawled_urls.txt \
    https://practicetestautomation.com output/pta_tests cucumber java false
```

## Integration with Existing Workflow

You can incorporate external sitemap generation into your workflow:

1. Generate sitemap with your preferred tool
2. Save the sitemap to a file
3. Use the LLM Smoke Test Framework to generate tests from that sitemap

## Performance Considerations

Using pre-generated sitemaps can significantly improve performance:

- No need to crawl the entire website
- Can filter URLs before processing
- Can run tests on a subset of pages
- Reduces API calls to the website

## Troubleshooting

If you encounter issues with external sitemaps:

1. Verify the sitemap file exists and is accessible
2. Check that URLs in the sitemap are valid and accessible
3. Try filtering the sitemap to include only specific URLs
4. Use the `--verbose` flag to see more detailed logs
